é…ç½®æ–‡ä»¶
===

é…ç½®æ–‡ä»¶å¯ä»¥æ·»åŠ è®¾ç½®ç½‘ç«™å†…å®¹å’Œä¸»é¢˜ç­‰ã€‚

## æ·»åŠ é…ç½®

ç›®å‰æœ‰ä¸‰ç§é…ç½®ï¼Œæ¯ç§é…ç½®æ–¹å¼éƒ½èµ·ä¸é€šçš„ä½œç”¨ï¼Œéƒ½ä¸æ˜¯å¿…è¦çš„é…ç½®ï¼Œé…ç½®æ ¼å¼å‡ä½¿ç”¨ [yaml](https://yaml.org/)ã€‚ä¸‰ç§é…ç½®ï¼š

- [x] `idoc.yml` åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ ï¼ˆå¯é€‰é…ç½®ï¼‰ã€‚
- [x] `idoc.chapters.yml` å·¦ä¾§æ æ–‡ä»¶å¯¼èˆªï¼ˆSiderBarï¼‰ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ ï¼ˆå¯é€‰é…ç½®ï¼‰ã€‚
- [x] `æ³¨é‡Šé…ç½®` åœ¨ markdown æ–‡æ¡£ä¸­æ·»åŠ çš„é…ç½®ï¼ˆå¯é€‰é…ç½®ï¼‰ã€‚

## `idoc.yml`

åœ¨ä½ çš„é…ç½®é¡¶éƒ¨æ·»åŠ  [schema](https://www.schemastore.org/)ï¼Œè¿›è¡Œæ•°æ®æœ‰æ•ˆæ€§éªŒè¯ï¼Œæœ‰åŠ©äºè§£å†³é…ç½®é”™è¯¯é—®é¢˜ã€‚å¦‚æœä½ ä½¿ç”¨ [Visual Studio Code](https://code.visualstudio.com/)ï¼Œéœ€è¦å®‰è£… [YAML](https://github.com/redhat-developer/vscode-yaml.git) æ’ä»¶æ¥æ”¯æŒæ­¤åŠŸèƒ½ã€‚ä» `v1.26` ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒæ›´å¤šç±»å‹çš„é…ç½®æ–‡ä»¶ï¼š

> [!NOTE/æ³¨æ„]
> ç”± [Auto Config Loader](https://github.com/jaywcjlove/auto-config-loader) æä¾›åŠ¨åŠ›æ”¯æŒå¤šç§æ ¼å¼çš„é…ç½®ã€‚

```bash
idoc.yml                   .idoc.yml
.idocrc                    .idocrc.json
.idocrc.json5              .idocrc.jsonc
.idocrc.yaml               .idocrc.yml
.idocrc.toml               .idocrc.ini
.idocrc.js                 .idocrc.ts
.idocrc.cjs                .idocrc.mjs
.config/idocrc             .config/idocrc.json
.config/idocrc.json5       .config/idocrc.jsonc
.config/idocrc.yaml        .config/idocrc.yml
.config/idocrc.toml        .config/idocrc.ini
.config/idocrc.js          .config/idocrc.ts
.config/idocrc.cjs         .config/idocrc.mjs
idoc.config.js             idoc.config.ts
idoc.config.cjs            idoc.config.mjs
```

ä¹Ÿæ”¯æŒåœ¨ `pacakge.json` çš„ `{ idoc: {} }` ä¸Šé¢é…ç½®

```js
{
  "idoc": {
    "dir": "docs",
    "site": "Project Name"
  }
}
```

```yml
# yaml-language-server: $schema=https://jaywcjlove.github.io/idoc/schema
# yaml-language-server: $schema=https://jaywcjlove.gitee.io/idoc/schema
```
<!--rehype:style=background: #41ae622b;-->

ä¸‹é¢æ˜¯ `idoc.yml` é…ç½®ç¤ºä¾‹ï¼Œæ›´å¤šç¤ºä¾‹æŸ¥çœ‹ä¸‹é¢æ›´å¤šæ–‡æ¡£ï¼š

```yml
# yaml-language-server: $schema=https://jaywcjlove.github.io/idoc/schema
# yaml-language-server: $schema=https://jaywcjlove.gitee.io/idoc/schema

## directory of document source files
## defalut: `docs`
# -----------------------
dir: docs

## Output directory of generated documents
## defalut: `dist`
# -----------------------
output: dist

## site name
# -----------------------
site: iDoc

## Page title
# -----------------------
title: Config page iDoc

## Site description
# -----------------------
description: Website description

## The keywords of your website.
# -----------------------
keywords: idoc,document,doc

## Customize theme settings.
## defalut: `default`
# -----------------------
theme: default

## Website logo icon
## defalut: `data:image/png;base64,iVBOR......`
# -----------------------
logo: ./logo.png

## Website favicon icon
## defalut: `data:image/png;base64,iVBOR......`
# -----------------------
favicon: ./logo.png

# Show open source button
openSource: https://github.com/jaywcjlove/idoc

# Display the edit button, need to configure `openSource`.
editButton: 
  label: Edit this page on GitHub
  url: https://github.com/jaywcjlove/idoc/blob/master/

## chapters scopes
# -----------------------
# scope: 
#   - introduce

# Navigation Menu.
menus:
  # Label: <URL> [scope]
  Docs: introduce/getting-started/installation.html introduce
  Markdown: markdown.html
  About: about.html
  Github: 
    url: https://github.com/jaywcjlove/idoc
    target: __blank

footer: |
  Released under the MIT License. Copyright Â© 2022 Kenny Wong<br />
  Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a> v{{idocVersion}}

## Copy Assets
# -----------------------
# https://github.com/micromatch/micromatch
# 
copyAssets: '**/assets/*.{mp3,ogm}'

## Template Data
# -----------------------
data: 
  good: test

## Add giscus comment
# -----------------------
giscus: 
  src: https://giscus.app/client.js
  data-repo: jaywcjlove/idoc
  data-repo-id: MDEwOlJlcG9zaXRvcnk0MjM4MTA2Nw==
  data-category: Q&A
  data-category-id: DIC_kwDOAoavC84CZOtP
  data-mapping: pathname
  data-strict: 0
  data-reactions-enabled: 1
  data-emit-metadata: 0
  data-input-position: top
  data-theme: dark
  data-lang: zh-CN
  data-loading: lazy
  crossorigin: anonymous
  async: true
```

### `dir`

æ–‡æ¡£ï¼ˆmarkdownï¼‰æ‰€åœ¨çš„ç›®å½•ï¼Œé»˜è®¤é…ç½®å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `docs` æ–‡ä»¶å¤¹ä¸­ã€‚

### `output`

æ–‡æ¡£ï¼ˆmarkdownï¼‰è¾“å‡ºçš„ HTML æ‰€åœ¨çš„ç›®å½•ï¼Œé»˜è®¤é…ç½®å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `dist` æ–‡ä»¶å¤¹ä¸­ã€‚

### `site`

è‡ªå®šä¹‰ç½‘ç«™çš„åç§°ï¼Œä¹Ÿå°†ç”¨æˆ·å¯¼èˆªèœå• logo æ—è¾¹æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚

```yml
site: iDoc
```

å¦‚æœä½ æ²¡æœ‰é…ç½®ï¼Œå°†ä¼šè‡ªåŠ¨è¯»å– `package.json` ä¸­çš„ `name` -> `title` å­—æ®µï¼Œä¼˜å…ˆ `title` å­—æ®µã€‚

```json
{
  "name": "idoc",
  "title": "idoc book",
}
```

ä½¿ç”¨ `{{version}}` æ¨¡ç‰ˆæ ‡è®°ï¼Œæ”¯æŒåœ¨æ ‡é¢˜ä¸Šæ˜¾ç¤ºç‰ˆæœ¬å·ä¿¡æ¯ï¼š

```yml
site: iDoc {{version}}
site: iDoc {{version:v1.2.3}}
```

å¯ä»¥ä½¿ç”¨ `idoc --site "iDoc {{version}}"` å‘½ä»¤å‚æ•°é…ç½®ç½‘ç«™åç§°ï¼Œä»–ä»¬çš„æƒé‡ `idoc.yml` -> `package.json` -> `idoc -s`

### `description`

å¯¹ç½‘é¡µçš„ä¸€ä¸ªç®€å•æ¦‚è¿°ï¼Œé»˜è®¤è·å–å½“å‰ Markdown é¡µé¢ç¬¬ä¸€æ®µæ–‡æœ¬ã€‚

```yml
description: idoc description
```

å¦‚æœä½ æ²¡æœ‰é…ç½®ï¼Œå°†ä¼šè‡ªåŠ¨è¯»å– `package.json` ä¸­çš„ `description` å­—æ®µ

```json
{
  "description": "idoc description",
}
```

### `keywords`

æœç´¢å¼•æ“èƒ½æœç´¢åˆ°çš„å…³é”®è¯ï¼Œæ¯ä¸ªå…³é”®è¯ä¹‹é—´ç”¨è‹±æ–‡é€—å· `,` éš”å¼€ï¼Œå¿…é¡»æ˜¯è‹±æ–‡çš„é€—å·ã€‚`package.json` -> `idoc.yml` -> `æ³¨é‡Šé…ç½®`

```yml
keywords: idoc,markdown,api,document,tool
```

å¦‚æœä½ æ²¡æœ‰é…ç½®ï¼Œå°†ä¼šè‡ªåŠ¨è¯»å– `package.json` ä¸­çš„ `keywords` å­—æ®µ

```json
{
  "keywords": [
    "idoc",
    "markdown",
    "api",
    "document",
    "tool"
  ]
}
```

```yml
keywords: idoc,document,doc
```

### `tocs`

å…¨å±€é…ç½®ï¼Œéšè—æ‰€æœ‰çš„é¡µé¢ç›®å½•ã€‚

```yml
tocs: false
```

### `logo`

è‡ªå®šä¹‰ç½‘ç«™çš„å¯¼èˆªèœå• `logo`ï¼Œé»˜è®¤å†…ç½®äº† `logo`ã€‚

```yml
## Website logo icon
## defalut: `data:image/png;base64,iVBOR......`
# -----------------------
logo: ./logo.png
```

æ”¯æŒ base64 å­—ç¬¦ä¸²ï¼Œå’Œå›¾ç‰‡æ–‡ä»¶ç›¸å¯¹ç›®å½•é…ç½®ï¼Œå¦‚æœé…ç½® svg å›¾æ ‡è·¯å¾„ï¼Œè‡ªåŠ¨å°† svg ä»£ç ç”Ÿæˆåˆ°é¡µé¢ä¸­ï¼Œè¿™å°†æœ‰åŠ©äºè§£å†³æ˜æš—ä¸»é¢˜æ ·å¼ã€logo æ¨¡ç³Šç­‰é—®é¢˜ã€‚


### `favicon`

è‡ªå®šä¹‰ç½‘ç«™çš„ `favicon` å›¾æ ‡ï¼Œé»˜è®¤å†…ç½®äº†å›¾æ ‡ã€‚

```yml
## Website favicon icon
## defalut: `data:image/png;base64,iVBOR......`
# -----------------------
favicon: ./logo.png
```

### `meta`

meta æ ‡è®°æè¿° HTML æ–‡æ¡£ä¸­çš„å…ƒæ•°æ®ï¼Œå€¼æ”¯æŒæ¨¡æ¿å˜é‡

```yml
data: 
  site_name: idoc # å‘ meta é…ç½®æ¨¡æ¿ä¸­æ·»åŠ æ¨¡æ¿æ•°æ®
meta:
  - <meta name="author" content="Kenny Wong">
  - <meta property="og:site_name" content="<%= data.site_name %>">
  - <meta property="og:url" content="">
  - <meta property="og:image" content="<%=homepage%>logo.png">
  - <meta property="og:type" content="website">
  - <meta property="og:title" content="<%= title %>">
  - <meta property="og:description" content="<%= description%>">
```

å¤´ä¿¡æ¯ä¸­ç”Ÿæˆ `HTML` å¦‚ä¸‹ï¼š

```html
<meta name="author" content="Kenny Wong">
<meta property="og:site_name" content="idoc">
<meta property="og:url" content="">
<meta property="og:image" content="https://wangchujiang.com/idoc/logo.png">
<meta property="og:type" content="website">
<meta property="og:title" content="é…ç½®æ–‡ä»¶">
<meta property="og:description" content="é…ç½®æ–‡ä»¶å¯ä»¥æ·»åŠ è®¾ç½®ç½‘ç«™å†…å®¹å’Œä¸»é¢˜ç­‰ã€‚">
```

é…ç½® Twitter å¡ç‰‡

```yml
data: 
  site_name: idoc # å‘ meta é…ç½®æ¨¡æ¿ä¸­æ·»åŠ æ¨¡æ¿æ•°æ®

copyAssets: 
  - '*/assets/*.(png|jpg)' # å­˜æ”¾åœ¨ `docs` ç›®å½•ä¸­åŒ¹é…çš„èµ„æº
meta:
  - <meta property="twitter:image:src" content="<%=homepage%>assets/banner.png">
  - <meta property="twitter:site" content="@jaywcjlove">
  - <meta property="twitter:creator" content="jaywcjlove">
  - <meta property="twitter:card" content="summary_large_image">
  - <meta property="twitter:title" content="<%= title %>">
  - <meta property="twitter:description" content="<%= description%>">
```

### `element`

æ¨¡æ¿ä¸­çš„æŸäº›èŠ‚ç‚¹ props è®¾ç½®éƒ¨ä½æ ·å¼ï¼Œä¾‹å¦‚è®¾ç½® `wrapper` å®šä¹‰ç½‘é¡µæœ€å¤–å±‚æœ€å¤§å®½åº¦ï¼š

```yml
element: 
  # ç”¨äºå®šä¹‰æœ€å¤–å±‚å®½åº¦æ ·å¼
  wrapper: style=max-width:690px;
```

> [!WARNING]
> ç›®å‰åªæ‰©å±•äº†ä¸€ä¸ª `wrapper`

### `homepage`

ä¸»è¦ç”¨äºç”Ÿæˆ [sitemap.txt](https://www.sitemaps.org/) æ–‡ä»¶ã€‚å½“å‰é…ç½®ä¹Ÿå°†ä¼ é€’åˆ°æ¨¡ç‰ˆä¸­ä½¿ç”¨ã€‚

```yml
homepage: https://jaywcjlove.github.io/idoc/
```

> [!TIP]
> æç¤ºè¯·æŸ¥çœ‹ [Google æ–‡æ¡£](https://developers.google.com/search/docs/advanced/sitemaps/build-sitemap?hl=zh-cn#text)ã€‚

### `minify`

å‹ç¼©ç”Ÿæˆåçš„ HTMLï¼Œé»˜è®¤å€¼ä¸º `false`ã€‚

```yml
minify: true
```

### `cacheFileStat`

ç¼“å­˜ md æ–‡ä»¶ç»Ÿè®¡ä¿¡æ¯ï¼Œä¸»è¦è§£å†³æ—¶é—´æ›´æ–°é—®é¢˜ï¼ˆ[#58](https://github.com/jaywcjlove/idoc/issues/58)ï¼‰ã€‚

```yml
cacheFileStat: true
```

### `copyAssets`

ä½¿ç”¨ [é€šé…æ¨¡å¼](https://github.com/micromatch/micromatch) æ‹·è´æŒ‡å®šçš„èµ„æºã€‚

```yml
## Copy Assets
# -----------------------
copyAssets: '**/assets/*.(mp3,ogm)'

copyAssets: 
  - '**/assets/*.mp3'
  - '**/assets/*.ogm'
```

> [!TIP]
> åœ¨ `markdown` ä¸­å¼•å…¥å›¾ç‰‡ç­‰èµ„æºä¼šè‡ªåŠ¨æ‹·è´ï¼Œä¸éœ€è¦é…ç½® `copyAssets`ã€‚

### `theme`

ä¸»é¢˜å®šåˆ¶ï¼Œé»˜è®¤å€¼ä¸º `default`ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ `idoc init myapp` ç”Ÿæˆé¡¹ç›®å·¥ç¨‹çš„æ—¶å€™ï¼Œé€‰æ‹©æš´éœ²æ¨¡ç‰ˆæ–‡ä»¶ï¼Œä¸»é¢˜å°†è¢«ç”Ÿæˆåˆ° `themes/default` ç›®å½•ä¸­

```yml
## Customize theme settings.
## defalut: `default`
# -----------------------
theme: themes/default
```

### `openSource`

é»˜è®¤é¡µé¢é¡¶éƒ¨ GitHub æŒ‰é’®èœå•è‡ªå®šä¹‰ã€‚

```yml
openSource: https://github.com/jaywcjlove/idoc
```

å¦‚æœä½ æ²¡æœ‰é…ç½®ï¼Œå°†ä¼šè‡ªåŠ¨è¯»å– `package.json` ä¸­çš„ `repository` å­—æ®µ

```json
"repository": {
  "type": "git",
  "url": "https://github.com/jaywcjlove/idoc.git"
},
```

### `editButton`

é»˜è®¤é¡µé¢ `ç¼–è¾‘æŒ‰é’®` å®šä¹‰ã€‚

```yml
editButton: 
  label: Edit this page on GitHub
  url: https://github.com/jaywcjlove/idoc/blob/master/
```

### `scope`

èŒƒå›´æ˜¯æŒ‡èƒ½åŒ¹é…åˆ°æ–‡ä»¶è¾“å‡ºè·¯å¾„çš„ä¸€æ®µå­—ç¬¦ä¸²ã€‚

è¿™ä¸ªé…ç½®å°†ä¸ºä½ è¿‡æ»¤å·¦è¾¹ SiderBar ç« èŠ‚èœå•å±•ç¤ºå†…å®¹ï¼Œä½œç”¨æ˜¯æ ¹æ®èŒƒå›´ï¼ˆscopeï¼‰ï¼Œè¿‡æ»¤ `idoc.chapters.yml` é…ç½®ä¸­çš„æ•°æ®ã€‚

```yml
scope: 
  - introduce/getting-started
```

ä¸åœ¨ [`menus`](#menus) ä¸­å®šä¹‰ `scope` æ•ˆæœæ˜¯ä¸€æ ·çš„

```yml
menus:
  Docs: introduce/getting-started/installation.html 
  Markdown: markdown/basic-syntax.html markdown
```

> [!TIP]
> 
> - èŒƒå›´ `scope` é…ç½®ï¼Œåœ¨åŒ¹é…åˆ°çš„é¡µé¢ï¼Œå±•ç¤ºåŒ¹é…ä¸­çš„ç« èŠ‚(SiderBar)èœå•ã€‚
> - èŒƒå›´ `scope` æ²¡æœ‰é…ç½®ï¼Œæ‰€æœ‰é¡µé¢å±•ç¤ºç« èŠ‚(SiderBar)èœå•ã€‚
> - èŒƒå›´æ˜¯åŒ¹é…æ–‡ä»¶è·¯å¾„ï¼Œé…ç½®ä½¿ç”¨ `/` idoc å·¥å…·å¸®åŠ©è½¬æ¢å…¼å®¹ Windowsã€‚
> - èŒƒå›´ `scope` é…ç½®ï¼Œæ˜¯è¿‡æ»¤ `idoc.chapters.yml` ä¸­çš„æ•°æ®ã€‚

### `scopePrivate`

æŸä¸€äº›é¡µé¢å±•ç¤ºæŒ‡å®šèŒƒå›´çš„çš„ç« èŠ‚(SiderBar)èœå•ï¼Œå…¶å®ƒé¡µé¢å±•ç¤ºå‰©ä½™èŒƒå›´çš„çš„ç« èŠ‚(SiderBar)èœå•ã€‚

```yml
scopePrivate: 
  - tutorial
```

> [!TIP]
>  æ³¨æ„ï¼šéœ€è¦åˆ é™¤ ~~`scope`~~ é…ç½®é€‰é¡¹ï¼Œä¸Šé¢éœ€æ±‚æ‰èƒ½å®ç°ã€‚

### `sideEffectFiles`

æ·»åŠ å‰¯ä½œç”¨ `Markdown` æ–‡ä»¶ï¼Œå¦‚æœä½ æœ‰ä¸€äº›æ–‡ä»¶ä¸åœ¨æŒ‡å®šæ–‡æ¡£ç›®å½•ï¼ˆé»˜è®¤ `docs`ï¼‰ï¼Œè¿™äº›æ–‡ä»¶ä¸ä¼šç¼–è¯‘è¾“å‡º `html`ï¼Œä¹Ÿä¸ä¼šç›‘å¬ï¼Œé€šè¿‡ `sideEffectFiles` é…ç½®ï¼Œå°†å®ç°åœ¨æŒ‡å®šæ–‡æ¡£ç›®å½•ä¹‹å¤–çš„ `Markdown` æ–‡æ¡£ä¹Ÿèƒ½ç¼–è¯‘ã€‚

```yml
sideEffectFiles:
  - README.zh.md
```

> [!TIP]
>  æ³¨æ„ï¼šå¦‚æœä½ åœ¨å®æ—¶ç¼–è¯‘æ–‡æ¡£ï¼Œä¿®æ”¹æ­¤é…ç½®å°†éœ€è¦é‡å¯ç›‘å¬æœåŠ¡ã€‚

### `menus`

é»˜è®¤ä¸»é¢˜é¡¶éƒ¨å¯¼èˆªèœå•å®šä¹‰

```yml
menus:
  # Label: <URL> [scope]
  Docs: introduce/getting-started/installation.html introduce
  Markdown: markdown.html
  About: about.html
  Github: 
    url: https://github.com/jaywcjlove/idoc
    target: __blank
```

å®šä¹‰èŒƒå›´ `scope`ï¼Œä¸‹é¢ç¤ºä¾‹å®šä¹‰äº†ä¸ªèŒƒå›´åå­—å« `introduce`ï¼Œè¿™ä¸ªèŒƒå›´è¡¨ç¤ºï¼ŒåŒ¹é…åˆ° `introduce` å¼€å¤´çš„é¡µé¢ï¼Œé¡µé¢å¯¼èˆª `Docs` é€‰ä¸­æ•ˆæœã€‚

```yml
menus:
  # Label: <URL> [scope]
  Docs: introduce/getting-started/installation.html introduce
```

> [!TIP]
>  æ³¨æ„ï¼šè¿™ä¸ª `scope` èŒƒå›´ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•èœå•å®šä¹‰ `scope` èŒƒå›´ï¼Œå°†åœ¨æ‰€æœ‰é¡µé¢å±•ç¤ºä¸€æ ·çš„ `SiderBar` å·¦ä¾§è¾¹èœå•æ ã€‚å¦‚æœä½ å®šä¹‰äº† `scope`ï¼Œæ ¹æ®ä½ å®šä¹‰çš„èŒƒå›´(`scope`) åœ¨åŒ¹é…é¡µé¢è·¯ç”±ï¼Œå°†åœ¨ä¾§è¾¹æ å±•ç¤ºä¸åŒçš„ `SiderBar`ã€‚`SiderBar` éœ€è¦åœ¨ `idoc.chapters.yml` ä¸­å®šä¹‰ï¼Œå¹¶ä¸”éœ€è¦åœ¨ `idoc.yml` ä¸­å®šä¹‰ `menus`ã€‚

### `footer`

é¡µè„šè‡ªå®šä¹‰ã€‚

```yml
footer: |
  Released under the MIT License. Copyright Â© {{idocYear}} Kenny Wong<br />
  Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a> v{{idocVersion}}
```

è¿™é‡Œé¢„ç•™äº† `{{idocVersion}}` å’Œ `{{version}}` ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨äºæ›¿æ¢ idoc å½“å‰çš„ç‰ˆæœ¬ï¼Œæˆ–è€…é¡¹ç›® `package.json` ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚

### `data`

é»˜è®¤ä¸»é¢˜æ¨¡ç‰ˆå˜é‡ä¼ é€’ï¼Œè¿™å°†å¯¹è‡ªå®šä¹‰ä¸»é¢˜å¯èƒ½ä¼šèµ·åˆ°å¾ˆå¤§çš„å¸®åŠ©ã€‚é™¤äº†ä»¥ä¸Šå®šä¹‰ï¼Œå®šä¹‰å¤šä½™çš„å˜é‡ä¹Ÿä¼šè¢«ä¼ é€’åˆ°æ¨¡æ¿ä¸­ã€‚

```yml
data:
  name: value
```

ç›®å‰ä¿ç•™è¿™ä¸ªé…ç½®ä½œç”¨æ˜¯ï¼Œå¦‚æœé…ç½®ä½¿ç”¨äº† `schema`ï¼Œä¼ é€’çš„å˜é‡æ”¾åˆ° `data` é…ç½®(**idoc.yml**)ä¸ä¼šæŠ¥é”™ :)ï¼Œè¿˜æœ‰é¿å…è¦†ç›–å†…ç½®å˜é‡ã€‚

### `giscus`

æ·»åŠ  [`giscus`](https://giscus.app/) è¯„è®ºï¼Œåœ¨ [`giscus`](https://giscus.app/) å®˜ç½‘ä¸Šé…ç½®ï¼Œç”Ÿæˆå¦‚ä¸‹ HTML ä»£ç è½¬æ¢ä¸ºé…ç½®å³å¯ï¼š

```html
<script src="https://giscus.app/client.js"
  data-repo="jaywcjlove/idoc"
  data-repo-id="MDEwOlJlcG9zaXRvcnk0MjM4MTA2Nw=="
  data-category="Q&A"
  data-category-id="DIC_kwDOAoavC84CZOtP"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="dark"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>
```

å°†ç”Ÿæˆçš„ä¸Šé¢ HTML ä»£ç è£…ä¸ºé…ç½®

```yml
giscus: 
  src: https://giscus.app/client.js
  data-repo: jaywcjlove/idoc
  data-repo-id: MDEwOlJlcG9zaXRvcnk0MjM4MTA2Nw==
  data-category: Q&A
  data-category-id: DIC_kwDOAoavC84CZOtP
  data-mapping: pathname
  data-strict: 0
  data-reactions-enabled: 1
  data-emit-metadata: 0
  data-input-position: top
  data-theme: dark
  data-lang: zh-CN
  data-loading: lazy
  crossorigin: anonymous
  async: true
```

> [!TIP]
>  è¯·æ³¨æ„ï¼Œå¿…é¡»æ»¡è¶³ä¸‹é¢ 3 ç‚¹é…ç½®æ‰èƒ½èµ·ä½œç”¨ï¼š
>
> 1. è¯¥ä»“åº“æ˜¯[å…¬å¼€çš„](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/setting-repository-visibility#making-a-repository-public)ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•æŸ¥çœ‹ discussionã€‚
> 2. [giscus app](https://github.com/apps/giscus) å·²å®‰è£…ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•è¯„è®ºå’Œå›åº”ã€‚
> 3. Discussions åŠŸèƒ½å·²[åœ¨ä½ çš„ä»“åº“ä¸­å¯ç”¨](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/enabling-or-disabling-github-discussions-for-a-repository)ã€‚

### `rewrite`

è¿™æ˜¯åˆ©ç”¨ rehype æ’ä»¶ [rehype-rewrite](https://github.com/jaywcjlove/rehype-rewrite) å¯¹ HTML å…ƒç´ è¿›è¡Œé‡å†™ï¼Œå¯å¸®åŠ©æ‚¨ä¿®æ”¹é¡µé¢ä¸Šçš„ä»»ä½• HTML å…ƒç´ å’Œæ–‡æ¡£å†…å®¹ã€‚ä»¥ä¸‹é…ç½®ä»…åœ¨ JS é…ç½®ä¸­ç”Ÿæ•ˆï¼š

```js
// .idocrc.mjs
/**
 * @typedef {import("idoc").Config} Config
 * @type {Config} 
 */
export default {
  rewrite: (node, index, parent) => {
    console.log(index)
  },
}
```

åº”ç”¨ç¤ºä¾‹ [RegExp Example](https://github.com/jaywcjlove/regexp-example)ï¼Œè¿™ä¸ªç¤ºä¾‹æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æœé›†å¤‡å¿˜æ¸…å•ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªç¤ºä¾‹ç”Ÿæˆ HTML çš„åŒæ—¶ï¼Œç»™ç¤ºä¾‹æ·»åŠ éªŒè¯åŠŸèƒ½ç­‰è‡ªå®šä¹‰ç‰¹æ€§ã€‚

## `idoc.chapters.yml`

å®šä¹‰å·¦ä¾§è¾¹æ (SiderBar)èœå•ï¼ŒåŒæ—¶å¯ä»¥æ§åˆ¶é¡ºåºï¼Œå¯ä»¥åœ¨ `idoc.yml` é…ç½®ä¸­å®šä¹‰ `scope`ï¼Œé¡¶éƒ¨ä¸€çº§å¯¼èˆªæ ¹æ®åŒ¹é… `scope` æ¥å±•ç¤ºä¸åŒçš„ (SiderBar)èœå•ã€‚

```yml
- introduce/getting-started: å…¥é—¨
- introduce/getting-started/installation.md: å®‰è£…
- introduce/getting-started/publish.md: å‘å¸ƒç½‘ç«™
- introduce/getting-started/site-creation.md: åˆ›å»ºç½‘ç«™
- introduce/getting-started/site-preparation.md: ç½‘ç«™å‡†å¤‡
- introduce/api: API
- introduce/api/command.md: å‘½ä»¤
- introduce/api/config.md: é…ç½®æ–‡ä»¶è¯´æ˜

# å•é¡µé¢ä¸­æ²¡æœ‰ scope é…ç½®ï¼Œç½‘å€ `https://....` å°†èµ·ä½œç”¨
- reference/: å‚è€ƒç½‘ç«™
- https://jaywcjlove.github.io/idoc/: å®˜ç½‘
- https://google.com: Google
```

æ”¯æŒæ·»åŠ å¦‚ä¸‹é…ç½®æ–‡ä»¶ï¼š

```bash
idoc.chapters.yml                 .config/idoc.chaptersrc
.idoc.chapters.yml                .config/idoc.chaptersrc.json
.idoc.chaptersrc                  .config/idoc.chaptersrc.json5
.idoc.chaptersrc.json             .config/idoc.chaptersrc.jsonc
.idoc.chaptersrc.json5            .config/idoc.chaptersrc.yaml
.idoc.chaptersrc.jsonc            .config/idoc.chaptersrc.yml
.idoc.chaptersrc.yaml             .config/idoc.chaptersrc.toml
.idoc.chaptersrc.yml              .config/idoc.chaptersrc.ini
.idoc.chaptersrc.toml             .config/idoc.chaptersrc.js
.idoc.chaptersrc.ini              .config/idoc.chaptersrc.ts
.idoc.chaptersrc.js               .config/idoc.chaptersrc.cjs
.idoc.chaptersrc.ts               .config/idoc.chaptersrc.mjs          
.idoc.chaptersrc.cjs               
.idoc.chaptersrc.mjs
idoc.chapters.config.js
idoc.chapters.config.ts
idoc.chapters.config.cjs
idoc.chapters.config.mjs
```

## æ³¨é‡Šé…ç½®

è¿™ç§é…ç½®æ˜¯æŒ‡åœ¨ `markdown` æ–‡æ¡£ä¸­æ·»åŠ çš„é…ç½®ï¼Œä¸»è¦ç”¨äºæ§åˆ¶ç±»ä¼¼äº `tocs` é¡µé¢å¯¼èˆªæ˜¯å¦æ˜¾ç¤ºï¼Œé¡µé¢æ ‡é¢˜å±•ç¤ºï¼Œç¿»é¡µç­‰åŠŸèƒ½ã€‚åœ¨ `markdown` æ³¨é‡Šé…ç½®æ‰€åœ¨çš„é¡µé¢èµ·ä½œç”¨ã€‚

### é…ç½®æ–¹æ³•

åœ¨ markdown æ–‡æœ¬ä¸­ï¼Œä»»æ„ä½ç½®æ·»åŠ ä¸€æ¡ç‰¹å®šæ ‡è®°(`<!--idoc:config:<æ‚¨çš„é…ç½®>-->`)çš„æ³¨è§†ï¼Œå°† [yaml](https://yaml.org/) æ ¼å¼çš„é…ç½®æ·»åŠ åˆ°æ³¨é‡Šä¸­å³å¯ï¼š

```markdown
<!--idoc:config:
tocs: false
site: ç½‘ç«™åç§°
-->
```
<!--rehype:style=background-color: #c0d2f342-->

### è¯¦ç»†é…ç½®è¯´æ˜

ğŸš§  æ³¨æ„ï¼šéƒ¨åˆ†[æ³¨é‡Šé…ç½®](#æ³¨é‡Šé…ç½®)å°†è¦†ç›–å…¨å±€é…ç½®ï¼Œæ‰€æœ‰å‚æ•°å‡ä¸ºé€‰é…å‚æ•°ã€‚

```yml
# é¡µé¢ç›®å½•éšè—
tocs: false
# å½“å‰é¡µé¢ç½‘ç«™åç§°ï¼Œå¯ä»¥å…¨å±€ `idoc.yml` ä¸­é…ç½®
# ğŸš§ Logo æ—è¾¹çš„ <ç½‘ç«™åç§°>ï¼Œå’Œ <title> çš„åç§°é…ç½®
# å¯ä»¥å…¨å±€ `idoc.yml` ä¸­é…ç½®ï¼Œ
# éƒ½æ²¡æœ‰é…ç½®åœ¨ `package.json` ä¸­è¯»å– `name` å­—æ®µä¿¡æ¯
site: ç½‘ç«™åç§°
# åœ¨æµè§ˆå™¨æ ‡ç­¾å¤„æ˜¾ç¤ºçš„å†…å®¹
# é»˜è®¤ Markdown æ–‡æ¡£ç¬¬ä¸€ä¸ªæ ‡é¢˜ <h1>
title: ç½‘é¡µæ ‡é¢˜
# å¯¹ç½‘é¡µçš„ä¸€ä¸ªç®€å•æ¦‚è¿°ï¼Œé»˜è®¤è·å–å½“å‰ Markdown é¡µé¢ç¬¬ä¸€æ®µæ–‡æœ¬
description: ç½‘é¡µç®€è¿°
# æœç´¢å¼•æ“èƒ½æœç´¢åˆ°çš„å…³é”®è¯ï¼Œæ¯ä¸ªå…³é”®è¯ä¹‹é—´ç”¨é€—å·ï¼Œéš”å¼€ï¼Œå¿…é¡»æ˜¯è‹±æ–‡çš„é€—å·ã€‚
keywords: å…³é”®è¯
# è‡ªå®šä¹‰ç½‘ç«™çš„ favicon å›¾æ ‡ï¼Œé»˜è®¤å†…ç½®äº†å›¾æ ‡ã€‚
favicon: page.favicon || config.data.favicon,
# è‡ªå®šä¹‰ç½‘ç«™çš„å¯¼èˆªèœå• logoï¼Œé»˜è®¤å†…ç½®äº† logoã€‚
logo: page.logo || config.data.logo,
# æ˜¾ç¤ºç¼–è¾‘æŒ‰é’®
editButton: 
  label: Edit this page on GitHub
  url: https://github.com/jaywcjlove/idoc/blob/master/
# å¯¼èˆªæ  GitHub æŒ‰é’®
openSource: https://github.com/jaywcjlove/idoc
# ğŸš§  ç¿»é¡µé»˜è®¤ä¸éœ€è¦é…ç½®ï¼Œé»˜è®¤æ˜¯æ ¹æ® `idoc.chapters.yml` çš„é¡ºåºè‡ªåŠ¨ç”Ÿæˆã€‚
# ğŸ‘ˆ ä¸Šä¸€é¡µï¼Œraw é…ç½®æŒ‡å®šç›®å½•ï¼ˆé»˜è®¤ docsï¼‰å…¨è·¯å¾„ï¼Œidoc ä¼šå¤„ç†æˆæ­£ç¡®çš„ç›®å½•ã€‚
prevPage: 
  raw: introduce/getting-started/site-add.md
  label: æ·»åŠ æ–‡æ¡£  # ğŸ¤™ å¯ä»¥å•ç‹¬åªé… label è¦†ç›–é»˜è®¤çš„ label
# ğŸš§  ç¿»é¡µé»˜è®¤ä¸éœ€è¦é…ç½®ï¼Œé»˜è®¤æ˜¯æ ¹æ® `idoc.chapters.yml` çš„é¡ºåºè‡ªåŠ¨ç”Ÿæˆã€‚
# ğŸ‘‰ ä¸‹ä¸€é¡µï¼Œraw é…ç½®æŒ‡å®šç›®å½•ï¼ˆé»˜è®¤ docsï¼‰å…¨è·¯å¾„ï¼Œidoc ä¼šå¤„ç†æˆæ­£ç¡®çš„ç›®å½•
nextPage: 
  raw: introduce/getting-started/site-add.md
  label: æ·»åŠ æ–‡æ¡£  # ğŸ¤™ å¯ä»¥å•ç‹¬åªé… label è¦†ç›–é»˜è®¤çš„ label
# å½“å‰é¡µé¢<é¡µè„š>é…ç½®
footer: |
  Released under the MIT License. Copyright Â© 2022 Kenny Wong<br />
  Generated by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a> v{{idocVersion}}
# ğŸš§ å½“å‰æ–‡ä»¶ä¿¡æ¯ï¼Œä¸å‡†ç¡®ï¼Œæ¯”å¦‚ CI åœ¨æœåŠ¡ç«¯ç”Ÿæˆï¼Œæ²¡æœ‰åŠæ³•è®°å½• ä¿®æ”¹æ—¶é—´ã€‚
fileStat:
  # é…ç½®å½“å‰æ–‡æ¡£çš„ä¿®æ”¹æ—¶é—´ï¼Œå±•ç¤ºåœ¨é¡µè„š
  mtimeStr: 2022/04/13
```

### tocs

å¦‚æœå…¨å±€é…ç½®ï¼Œéšè—æ‰€æœ‰çš„é¡µé¢ç›®å½•ï¼Œåœ¨é¡µé¢ä¸­æ³¨é‡Šé…ç½® `tocs=true`ï¼Œè®©æŸä¸ªé¡µé¢æ˜¾ç¤ºé¡µé¢ç›®å½•ã€‚

```markdown
<!--idoc:config:
tocs: true
-->
```

### layout

å¸ƒå±€æ¨¡ç‰ˆé…ç½®ï¼Œé»˜è®¤å€¼ `markdown.ejs` ä¸éœ€è¦é…ç½®ï¼Œè¿™å°†åœ¨æ‚¨è‡ªå®šä¹‰æ¨¡æ¿çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚æ‚¨éœ€è¦è‡ªå®šä¹‰é¦–é¡µã€‚

```markdown
<!--idoc:config:
layout: markdown.ejs
-->
```
<!--rehype:style=background-color: #c0d2f342-->

ğŸš§  æ³¨æ„ï¼šé»˜è®¤ä¸éœ€è¦é…ç½®ï¼Œè‡ªå®šä¹‰ä¸»é¢˜çš„æ—¶å€™å¯ä»¥ç”¨å¾—åˆ°ã€‚

<!--idoc:config:
keywords: idoc,config,api
fileStat:
  mtimeStr: 2022/04/13
-->